reset_cache: true
sync_collection:
  src: ".sync_collections"
  files:
    - docker-compose.yaml
    - .env
project_name: "Modern Project Template"
username: "user"
private_key: "/home/user/.ssh/id_rsa"
host: "localhost"
port: "22"
local_path: "."
remote_path: "/home/user/project"
devsync:
  os_target: "linux"
  auth:
    username: =username
    privateKey: =privateKey
    host: =host
    port: =port
    localPath: =localPath
    remotePath: =remotePath
  ignores: []
  agent_watchs:
    - "storage/logs/"
  manual_transfer:
    - ".ssh"
    - "node_modules"
  trigger_permission:
    unlink_folder: true
    unlink: true
    change: true
    add: true
  script:
    local:
      on_ready: "echo 'Local environment ready'"
      on_stop: "echo 'Local environment stopped'"
      commands: []
    remote:
      on_ready: "echo 'Remote environment ready'"
      on_stop: "echo 'Remote environment stopped'"
      commands:
        - "docker-compose up"
        - "docker compose down && docker compose up --build"
        - "docker compose down && docker compose up"
        - "docker compose exec app bash --login"
        - "tail -f storage/log/*.log"

direct_access:
  config_file: ""
  ssh_configs:
    - Host: "modern-project"
      HostName: "localhost"
      User: "user"
      Port: "22"
      RequestTty: "force"
      IdentityFile: "/home/user/.ssh/id_rsa"
      StrictHostKeyChecking: "no"
      RemoteCommand: "cd /home/user/project && bash -l"
      ServerAliveInterval: "300"
      ServerAliveCountMax: "2"
  ssh_commands:
    - access_name: "Enter Modern Server"
      command: "ssh modern-project"
